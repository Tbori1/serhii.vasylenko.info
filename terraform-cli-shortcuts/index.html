<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Terraform CLI shortcuts - Oh my blog!</title>

  <!-- Edit site and author settings in `_config.yml` to make the social details your own -->

    <meta content="Oh my blog!" property="og:site_name">
  
    <meta content="Terraform CLI shortcuts" property="og:title">
  
  
    <meta content="article" property="og:type">
  
  
    <meta content="A place where I talk with internet
" property="og:description">
  
  
    <meta content="https://serhii.vasylenko.info/terraform-cli-shortcuts/" property="og:url">
  
  
    <meta content="2020-08-25T00:00:00+00:00" property="article:published_time">
    <meta content="https://serhii.vasylenko.info/about/" property="article:author">
  
  
    <meta content="https://serhii.vasylenko.info/assets/img/posts/2020-08-25-handy-terraform-cli-shortcuts.jpg" property="og:image">
  
  
    
  
  
    
    <meta content="terraform" property="article:tag">
    
    <meta content="cli" property="article:tag">
    
    <meta content="automation" property="article:tag">
    
  
    <meta name="twitter:card" content="Serhii Vasylenko. Oh my blog!">
    <meta name="twitter:site" content="@vasylenko">
    <meta name="twitter:creator" content="@vasylenko">
  
    <meta name="twitter:title" content="Terraform CLI shortcuts">
  
  
    <meta name="twitter:url" content="https://serhii.vasylenko.info/terraform-cli-shortcuts/">
  
  
    <meta name="twitter:description" content="A place where I talk with internet
">
  
  
    <meta name="twitter:image:src" content="https://serhii.vasylenko.info/assets/img/posts/2020-08-25-handy-terraform-cli-shortcuts.jpg">
  

	<meta name="description" content="">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<meta property="og:image" content="">
	<link rel="shortcut icon" href="/assets/img/favicon/favicon.ico" type="image/x-icon">
	<link rel="apple-touch-icon" href="/assets/img/favicon/apple-touch-icon.png">
	<!-- Chrome, Firefox OS and Opera -->
	<meta name="theme-color" content="#263959">
	<!-- Windows Phone -->
	<meta name="msapplication-navbutton-color" content="#263959">
	<!-- iOS Safari -->
	<meta name="apple-mobile-web-app-status-bar-style" content="#263959">
	<!-- Google Fonts -->
	<link href="https://fonts.googleapis.com/css?family=PT+Serif:400,700" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Lato:300,400,700" rel="stylesheet">
	<!-- Font Awesome -->
	<link rel="stylesheet" href="/assets/fonts/font-awesome/css/font-awesome.min.css">
	<!-- Styles -->
	<link rel="stylesheet" href="/assets/css/main.css">
</head>

<body>

  <div class="wrapper">
    <aside class="sidebar">
  <header>
    <div class="about">
      <div class="cover-author-image">
        <a href="/"><img src="/assets/img/serhii-vasylenko.jpeg" alt="Serhii Vasylenko"></a>
      </div>
      <div class="author-name">Serhii Vasylenko</div>
      <p>Teamlead, engineer, geek.</p>
    </div>
  </header> <!-- End Header -->
  <footer>
    <section class="contact">
      <h3 class="contact-title">Contact me</h3>
      <ul>
        
          <li><a href="https://facebook.com/vasylenkos" target="_blank"><i class="fa fa-facebook" aria-hidden="true"></i></a></li>
        
        
          <li><a href="https://twitter.com/vasylenko" target="_blank"><i class="fa fa-twitter" aria-hidden="true"></i></a></li>
               
        
          <li class="github"><a href="http://github.com/vasylenko" target="_blank"><i class="fa fa-github"></i></a></li>
        
        
          <li class="linkedin"><a href="https://in.linkedin.com/in/svasylenko" target="_blank"><i class="fa fa-linkedin"></i></a></li>
        
        
          <li class="email"><a href="mailto:contacts@vasylenko.info"><i class="fa fa-envelope-o"></i></a></li>
        
      </ul>
    </section> <!-- End Section Contact -->
    <!-- <div class="copyright">
      <p>2020 &copy; Serhii Vasylenko</p>
    </div> -->
  </footer> <!-- End Footer -->
</aside> <!-- End Sidebar -->
<div class="content-box clearfix">
  <article class="article-page">
  <div class="page-content" id="page-content">
    
    <div class="page-cover-image">
      <figure>
        <img class="page-image" src=/assets/img/posts/2020-08-25-handy-terraform-cli-shortcuts.jpg alt="Terraform CLI shortcuts">
        
      </figure>
    </div> <!-- End Page Cover Image -->
    
    <div class="wrap-content">
      <header class="header-page">
        <h1 class="page-title">Terraform CLI shortcuts</h1>
        <div class="page-date"><span>2020, Aug 25&nbsp;&nbsp;&nbsp;&nbsp;</span></div>
      </header>
      <p>I want to share some CLI shortcuts I use day-to-day to simplify and speed-up my Terraform workflow.
Requirements – bash-compatible interpreter, because aliases and functions described below will work with bash, zsh and ohmyzsh.</p>

<p>In order to use any of described aliases of functions, you need to place it in your <code class="language-plaintext highlighter-rouge">~/.bashrc</code> or <code class="language-plaintext highlighter-rouge">~/.zshrc</code> file (or any other configuration file you have for your shell).</p>

<p>Then just source this file, for example: <code class="language-plaintext highlighter-rouge">source ~/.zshrc</code></p>

<h3 id="function-list-outputs-and-variables-of-given-module">Function: list outputs and variables of given module</h3>
<p>You need to provide the path to module directory, and this function will list all declared variables and outputs module has. It comes very useful when you don’t remember them all and just need to take a quick look.</p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell"><span class="c"># TerraForm MOdule Explained</span>
<span class="k">function </span>tfmoe <span class="o">{</span>
  <span class="nb">echo</span> <span class="nt">-e</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">Outputs:"</span>
  <span class="nb">grep</span> <span class="nt">-r</span> <span class="s2">"output </span><span class="se">\"</span><span class="s2">.*</span><span class="se">\"</span><span class="s2">"</span> <span class="nv">$1</span> |awk <span class="s1">'{print "\t",$2}'</span> |tr <span class="nt">-d</span> <span class="s1">'"'</span>
  <span class="nb">echo</span> <span class="nt">-e</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">Variables:"</span>
  <span class="nb">grep</span> <span class="nt">-r</span> <span class="s2">"variable </span><span class="se">\"</span><span class="s2">.*</span><span class="se">\"</span><span class="s2">"</span> <span class="nv">$1</span> |awk <span class="s1">'{print "\t",$2}'</span> |tr <span class="nt">-d</span> <span class="s1">'"'</span>
<span class="o">}</span></code></pre></figure>

<p>Example usage:</p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">user@localhost <span class="nv">$:</span> tfmoe ./module_alb

Outputs:
	 alb_arn

Variables:
	 acm_certificate_arn
	 lb_name
	 alb_sg_list
	 subnets_id_list
	 tags</code></pre></figure>

<h3 id="function-pre-fill-module-directory-with-configuration-files">Function: pre-fill module directory with configuration files</h3>
<p>You need to provide a path to the module directory and this function will create a bunch of empty ‘default’ .tf files in it.</p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell"><span class="c">#TerraForm MOdule Initialize</span>
<span class="k">function </span>tfmoi <span class="o">{</span>
  <span class="nb">touch</span> <span class="nv">$1</span>/variables.tf
  <span class="nb">touch</span> <span class="nv">$1</span>/outputs.tf
  <span class="nb">touch</span> <span class="nv">$1</span>/versions.tf
  <span class="nb">touch</span> <span class="nv">$1</span>/main.tf
<span class="o">}</span></code></pre></figure>

<p>Example usage:</p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">user@localhost <span class="nv">$:</span> <span class="nb">mkdir</span> ./module_foo <span class="o">&amp;&amp;</span> temoi <span class="nv">$_</span>

user@localhost <span class="nv">$:</span> <span class="nb">ls</span> ./module_foo
main.tf      outputs.tf   variables.tf versions.tf</code></pre></figure>

<h3 id="aliases">Aliases</h3>
<p>The purpose of these aliases is just to keep you from typing long commands when you want to do a simple action.</p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell"><span class="nb">alias </span><span class="nv">tf</span><span class="o">=</span><span class="s1">'terraform'</span>

<span class="nb">alias </span><span class="nv">tfv</span><span class="o">=</span><span class="s1">'terraform validate'</span>

<span class="nb">alias </span><span class="nv">tfi</span><span class="o">=</span><span class="s1">'terraform init'</span>

<span class="nb">alias </span><span class="nv">tfp</span><span class="o">=</span><span class="s1">'terraform plan'</span> </code></pre></figure>

<p>This one is useful because it makes format tool to go in-depth (recursively) through directories.</p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell"><span class="nb">alias </span><span class="nv">tfm</span><span class="o">=</span><span class="s1">'terraform fmt -recursive'</span></code></pre></figure>

<p>Example usage:</p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">user@localhost <span class="nv">$:</span> tfm 
module_ecs_cluster/ecs.tf
module_alb/alb.tf</code></pre></figure>

      <div class="page-footer">
        <!-- <div class="page-share">
          <a href="https://twitter.com/intent/tweet?text=Terraform CLI shortcuts&url=https://serhii.vasylenko.info/terraform-cli-shortcuts/" title="Share on Twitter" rel="nofollow" target="_blank">Twitter</a>
          <a href="https://facebook.com/sharer.php?u=https://serhii.vasylenko.info/terraform-cli-shortcuts/" title="Share on Facebook" rel="nofollow" target="_blank">Facebook</a>
          <a href="https://plus.google.com/share?url=https://serhii.vasylenko.info/terraform-cli-shortcuts/" title="Share on Google+" rel="nofollow" target="_blank">Google+</a>
        </div> -->
        <div class="page-tag">
          
            <a href="/tags#terraform" class="tag">&#35; terraform</a>
          
            <a href="/tags#cli" class="tag">&#35; cli</a>
          
            <a href="/tags#automation" class="tag">&#35; automation</a>
          
        </div>
      </div> 
    </div> <!-- End Wrap Content -->
  </div> <!-- End Page Content -->
</article> <!-- End Article Page -->

</div>

  </div>
  
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-GK7SE0XWGK"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-GK7SE0XWGK');
</script>

<!-- Thank you Artem for this nice Jekyll theme! https://github.com/artemsheludko/flexible-jekyll -->
</body>
</html>
