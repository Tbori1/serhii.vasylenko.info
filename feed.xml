<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Hello world, it is nice to meet you ^_^</title>
    <atom:link href="/feed.xml" rel="self" type="application/rss+xml"/>
    <link>https://serhii.vasylenko.info/</link>
    <description>Serhii Vasylenko - personal blog</description>
    <pubDate>Fri, 28 Aug 2020 13:09:36 +0000</pubDate>
    
      <item>
        <title>üë®‚Äçüíª Terraform CLI shortcuts</title>
        <link>/2020/08/25/terraform-cli-shortcuts.html</link>
        <guid isPermaLink="true">/2020/08/25/terraform-cli-shortcuts.html</guid>
        <description>&lt;p&gt;Here is some CLI shortcuts I use day-to-day to simplify and speed-up my Terraform workflow.
Requirements ‚Äî bash-compatible interpreter, because aliases and functions described below will work with bash, zsh and ohmyzsh.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/posts/2020-08-25-handy-terraform-cli-shortcuts.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;In order to use any of described aliases of functions, you need to place it in your &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~/.bashrc&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~/.zshrc&lt;/code&gt; file (or any other configuration file you have for your shell).&lt;/p&gt;

&lt;p&gt;Then just source this file, for example: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;source ~/.zshrc&lt;/code&gt;&lt;/p&gt;

&lt;h3 id=&quot;function-list-outputs-and-variables-of-given-module&quot;&gt;Function: list outputs and variables of given module&lt;/h3&gt;
&lt;p&gt;You need to provide the path to module directory, and this function will list all declared variables and outputs module has. It comes very useful when you don‚Äôt remember them all and just need to take a quick look.&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# TerraForm MOdule Explained&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;function &lt;/span&gt;tfmoe &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;Outputs:&quot;&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-r&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;output &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;.*&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt; |awk &lt;span class=&quot;s1&quot;&gt;'{print &quot;\t&quot;,$2}'&lt;/span&gt; |tr &lt;span class=&quot;nt&quot;&gt;-d&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'&quot;'&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;Variables:&quot;&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-r&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;variable &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;.*&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt; |awk &lt;span class=&quot;s1&quot;&gt;'{print &quot;\t&quot;,$2}'&lt;/span&gt; |tr &lt;span class=&quot;nt&quot;&gt;-d&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'&quot;'&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Example usage:&lt;/p&gt;
&lt;div class=&quot;language-terminal highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gp&quot;&gt;user@localhost $&lt;/span&gt;: tfmoe ./module_alb
&lt;span class=&quot;go&quot;&gt;
Outputs:
	 alb_arn

Variables:
	 acm_certificate_arn
	 lb_name
	 alb_sg_list
	 subnets_id_list
	 tags
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;function-pre-fill-module-directory-with-configuration-files&quot;&gt;Function: pre-fill module directory with configuration files&lt;/h3&gt;
&lt;p&gt;You need to provide a path to the module directory and this function will create a bunch of empty ‚Äòdefault‚Äô .tf files in it.&lt;/p&gt;
&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;#TerraForm MOdule Initialize&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;function &lt;/span&gt;tfmoi &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;touch&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;/variables.tf
  &lt;span class=&quot;nb&quot;&gt;touch&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;/outputs.tf
  &lt;span class=&quot;nb&quot;&gt;touch&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;/versions.tf
  &lt;span class=&quot;nb&quot;&gt;touch&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;/main.tf
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Example usage:&lt;/p&gt;
&lt;div class=&quot;language-terminal highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gp&quot;&gt;user@localhost $&lt;/span&gt;: &lt;span class=&quot;nb&quot;&gt;mkdir&lt;/span&gt; ./module_foo &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; temoi &lt;span class=&quot;nv&quot;&gt;$_&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;gp&quot;&gt;user@localhost $&lt;/span&gt;: &lt;span class=&quot;nb&quot;&gt;ls&lt;/span&gt; ./module_foo
&lt;span class=&quot;go&quot;&gt;main.tf      outputs.tf   variables.tf versions.tf
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;aliases&quot;&gt;Aliases&lt;/h3&gt;
&lt;p&gt;The purpose of these aliases is just to keep you from typing long commands when you want to do a simple action.&lt;/p&gt;
&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;alias &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;tf&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'terraform'&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;alias &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;tfv&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'terraform validate'&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;alias &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;tfi&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'terraform init'&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;alias &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;tfp&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'terraform plan'&lt;/span&gt; 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This one is useful because it makes format tool to go in-depth (recursively) through directories.&lt;/p&gt;
&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;alias &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;tfm&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'terraform fmt -recursive'&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Example usage:&lt;/p&gt;
&lt;div class=&quot;language-terminal highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gp&quot;&gt;user@localhost $&lt;/span&gt;: tfm 
&lt;span class=&quot;go&quot;&gt;module_ecs_cluster/ecs.tf
module_alb/alb.tf
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
</description>
        <pubDate>Tue, 25 Aug 2020 00:00:00 +0000</pubDate>
      </item>
    
      <item>
        <title>üë®‚Äçüíª Managing Ansible playbook secrets with AWS services</title>
        <link>/2020/08/06/ansible-secrets-aws-ssm-sm.html</link>
        <guid isPermaLink="true">/2020/08/06/ansible-secrets-aws-ssm-sm.html</guid>
        <description>&lt;p&gt;Lookup plugins for Ansible allow you to do a lot of cool things. One of them is to securely pass sensitive information to your playbooks. 
If you manage some apps in AWS with Ansible, then using Parameter Store or Secrets Manager along with it might greatly improve your security.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/posts/2020-08-06-ansible-secrets-aws-ssm-sm.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;variables-with-ssm-parameter-store&quot;&gt;Variables with SSM Parameter Store&lt;/h3&gt;

&lt;p&gt;Let‚Äôs say you have some variables defined in ‚Äòdefaults/main.yaml‚Äô file of your role or maybe in group_vars.yaml file.&lt;/p&gt;
&lt;div class=&quot;language-yaml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nn&quot;&gt;---&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# content of dev.vars.yaml to be included in your play or role&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;use_tls&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;true&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;application_port&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;3000&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;app_env&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;development&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;stripe_api_key&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;1HGASU2eZvKYlo2CT5MEcnC39HqLyjWD&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If you store such things locally on Ansible control node, you probably encrypt it with &lt;a href=&quot;https://docs.ansible.com/ansible/latest/user_guide/vault.html&quot;&gt;ansible-vault&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;SSM Parameter Store gives you more flexibility and security by centralized storage and management of parameters and secrets, so let‚Äôs use it with Ansible:&lt;/p&gt;

&lt;div class=&quot;language-yaml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nn&quot;&gt;---&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# content of dev.vars.yaml to be included in your play or role&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;use_tls&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;{{lookup('aws_ssm',&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'/dev/webserver/use_tls')}}&quot;&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;application_port&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;{{lookup('aws_ssm',&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'/dev/webserver/application_port')}}&quot;&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;app_env&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;{{lookup('aws_ssm',&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'/dev/webserver/app_env')}}&quot;&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;stripe_api_key&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;{{lookup('aws_ssm',&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'/dev/webserver/stripe_api_key')}}&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The syntax is fairly simple:&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;aws_ssm&lt;/code&gt; argument ‚Äì is the name of plugin.&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/dev/webserver/use_tls&lt;/code&gt; argument ‚Äì is the path to the key in Paramter Store.&lt;/p&gt;

&lt;p&gt;Surely you can do the same for a group of servers with group variables, for example:&lt;/p&gt;

&lt;p&gt;You can use this anywhere you can use templating: in a play, in variables file, or a Jinja2 template.&lt;/p&gt;

&lt;h3 id=&quot;variables-with-secret-manager&quot;&gt;Variables with Secret Manager&lt;/h3&gt;

&lt;p&gt;Another cool lookup plugin is Secrets Manager. In a nutshell, it has the same kind of functionality but it uses JSON format by feault.&lt;/p&gt;

&lt;p&gt;Here is a quick example of its functionality in a Playbook:&lt;/p&gt;

&lt;div class=&quot;language-yaml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nn&quot;&gt;---&lt;/span&gt;
&lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;Extract something secrets from Secret Manager&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;debug&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;msg&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;{{&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;lookup('aws_secret',&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'dev/some-secrets')}}&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The above task will generate the following output&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;TASK [Extract something secrets from Secret Manager] ****************************************************
ok: [some_server] =&amp;gt; {
    &quot;msg&quot;: {
        &quot;dbname&quot;: &quot;database&quot;,
        &quot;engine&quot;: &quot;mysql&quot;,
        &quot;host&quot;: &quot;127.0.0.1&quot;,
        &quot;password&quot;: &quot;password&quot;,
        &quot;port&quot;: &quot;3306&quot;,
        &quot;username&quot;: &quot;db_user&quot;
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This is nice if you want to insert a JSON as is, but you will need additional parsing in case you want to get only some of JSON elements.&lt;/p&gt;

&lt;h3 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h3&gt;

&lt;p&gt;If you‚Äôre using Ansible in CI/CD, then having it on an EC2 Instance with the IAM role will make you avoid keeping any secrets on that instance at all.&lt;br /&gt;
The IAM role must allow at least the read access to SSM Parameter Store (+ KMS read access to be able to decrypt the keys) or the read access to Secrets Manager.&lt;/p&gt;

&lt;p&gt;You can find documentation for described plugins here &lt;a href=&quot;https://docs.ansible.com/ansible/latest/plugins/lookup/aws_ssm.html&quot;&gt;aws_ssm&lt;/a&gt; and here &lt;a href=&quot;https://docs.ansible.com/ansible/latest/plugins/lookup/aws_secret.html&quot;&gt;aws_secret&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;More about lookup plugins: https://docs.ansible.com/ansible/latest/plugins/lookup.html&lt;/p&gt;
</description>
        <pubDate>Thu, 06 Aug 2020 00:00:00 +0000</pubDate>
      </item>
    
      <item>
        <title>ü§î Terraform explained for managers</title>
        <link>/2020/05/02/Terraform-explained-for-managers.html</link>
        <guid isPermaLink="true">/2020/05/02/Terraform-explained-for-managers.html</guid>
        <description>&lt;p&gt;As a team leader, I have to speak with my teammates on the same language ‚Äî technical language‚Ä¶&lt;/p&gt;

&lt;p&gt;For example, I have a good technical background, yet sometimes I have a feeling that my teammates see that I don‚Äôt understand them when we discuss some project or a task in-depth. Moreover, I know they are right. Of course, there are plenty of managers who do not have a technical background and they perform great. And some might say that technical skills are not the priority for a manager.&lt;/p&gt;

&lt;p&gt;But I think that +1 to skills is always better than +0. Of course, it is a question of time and personal interests, one way or another.&lt;/p&gt;

&lt;p&gt;This is why I decided to share my experience and explain Terraform in one blog post.&lt;/p&gt;

&lt;p&gt;The language of this article will be ‚Äòtechie‚Äô but not too much. This is because I want to highlight the main parts the Terraform consists of. Although, this is not technical documentation (I hope). Code examples will be based on AWS cloud configuration, although in-depth knowledge of AWS is not required to understand them.&lt;/p&gt;

&lt;h3 id=&quot;a-few-words-about-infrastructure-as-code&quot;&gt;A few words about ‚ÄúInfrastructure as Code‚Äù&lt;/h3&gt;
&lt;p&gt;IaC is when you describe and manage your infrastructure as‚Ä¶ (guess what?) ‚Ä¶code. Literally.&lt;/p&gt;

&lt;p&gt;In a nutshell that means you can define all the elements (servers, networks, storage, etc.) and resources (memory, cpu, etc) of your infrastructure via configuration files in the version control system (Git, SVN, etc.), and manage it in a way similar to how you manage the source code of the applications: branches, releases, and all that stuff.&lt;/p&gt;

&lt;p&gt;And the main idea behind the IaC approach is that it manages the state of things and must be the single source of truth (configuration truth) for your infrastructure. You define the state via the code (at first) and then IaC tool (Terraform, for example) applies this state on the infrastructure: all that is missing according to the code will be created, all that differs from the code will be changed and all that exists in the infrastructure but is not described via code ‚Äî will be destroyed.&lt;/p&gt;

&lt;h3 id=&quot;why-and-when-do-you-need-the-terraform-for-a-project&quot;&gt;Why and when do you need the Terraform for a project?&lt;/h3&gt;
&lt;p&gt;Terraform is a specific tool, hence like any other tool it has its particular application area. There is no strict definition of project kind that needs Terraform (surprise!) but in general, you need to consider using Terraform if you answer ‚Äòyes‚Äô to one of the following questions:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Do you have multiple logical elements of the same kind (in plural) in your infrastructure, i.e. several web servers, several application servers, several database servers?&lt;/li&gt;
  &lt;li&gt;Do you have numerous environments (or workspaces) where you run your applications, i.e. development, staging, QA, production?&lt;/li&gt;
  &lt;li&gt;Do you spend some significant amount of time managing the changes in the environment(s) where you run your applications?&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;how-does-it-work&quot;&gt;How does it work?&lt;/h3&gt;
&lt;p&gt;Terraform works with the source code of configuration, and interprets the code into real resources inside on-premise or cloud platforms.&lt;/p&gt;

&lt;p&gt;Terraform supports a lot of platforms: from major cloud providers such as AWS, Azure, GCP, DigitalOcean, to more modest platforms such as OVH, 1&amp;amp;1, Hetzner, and others. It also supports infrastructure software such as Docker, Kubernetes, Chef, and even databases and monitoring software. This is why Terraform is so popular ‚Äî it is a real Swiss knife in the operations world.&lt;/p&gt;

&lt;p&gt;So to create, change, or destroy the infrastructure Terraform needs the source code. The &lt;strong&gt;source code&lt;/strong&gt; is a set of configuration files that defines your infrastructure state. The code uses its own syntax but it looks very user friendly. Here is an example: the following configuration block describes the virtual server (EC2 instance) in AWS&lt;/p&gt;

&lt;div class=&quot;language-yaml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;s&quot;&gt;resource &quot;aws_instance&quot; ‚Äúweb_server‚Äù {&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;ami           = &quot;ami-a1b2c3d4&quot;&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;instance_type = &quot;t3.micro&quot;&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Terraform can automatically detect the dependencies between resources described in the code, and also allows you to add custom dependencies when needed.&lt;/p&gt;

&lt;p&gt;When you apply the code first time, Terraform creates a so-called ‚Äú&lt;strong&gt;state file&lt;/strong&gt;‚Äù that works as a mapping of your code to real resources created in the hosting platform. With each next ‚Äúapply‚Äù action Terraform will use it to compare the code changes with the sate file to decide what should be done (and in what order) against real infrastructure.&lt;/p&gt;

&lt;p&gt;One of the important functions of the state file is a description of dependencies between the resources. For example (some technical nuances are omitted for purpose of simplicity): if you have a server created inside some network and that network is going to be changed, then Terraform will know that server setting should be changed as well or server should be re-created inside the updated network.&lt;/p&gt;

&lt;h3 id=&quot;what-is-inside&quot;&gt;What is inside?&lt;/h3&gt;

&lt;p&gt;Terraform configuration code consists of several elements: providers, resources, modules, input variables, output values, local values, expressions, functions.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Provider&lt;/strong&gt; is an entity that defines what exactly is possible to do with cloud or on-premises infrastructure platform you manage via Terraform.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Resource&lt;/strong&gt; is the most important part of the configuration code. This is where the definition of infrastructure objects happens. Resources are the main building blocks of the whole code.&lt;/p&gt;

&lt;p&gt;Every resource has a type and local name. For example here is how EC2 instance configuration may look like:&lt;/p&gt;
&lt;div class=&quot;language-yaml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;s&quot;&gt;resource ‚Äúaws_instance‚Äù ‚Äúweb_server‚Äù {&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;ami           = ‚Äúami-a1b2c3d4‚Äù&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;instance_type = ‚Äút3.micro‚Äù&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;aws_instance&lt;/code&gt; is a resource type and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;web_server&lt;/code&gt; is the resource local name. Later, when Terraform applies this code, it will create an EC2 instance with some particular ID in AWS. Once created, the ID will be stored in the state file with mapping information that logically connects it with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;web_server&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ami&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;instance_type&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;private_ip&lt;/code&gt; are the arguments with values which define the actual state of the resource. There are plenty of value types, depending on the particular argument and particular resource type, so I will not focus on them here.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Modules&lt;/strong&gt; are the kind of logical containers or groups for resources you define and use together. The purpose of modules is not only the grouping of resources but it is also the possibility to reuse the same code with different variables.&lt;/p&gt;

&lt;p&gt;Let‚Äôs get back to the example with EC2 instance and say you need to have a static public IP address with it. In such a case, here is how the module for web server may look like:&lt;/p&gt;

&lt;div class=&quot;language-yaml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;s&quot;&gt;resource ‚Äúaws_instance‚Äù ‚Äúweb_server‚Äù {&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;ami           = ‚Äúami-a1b2c3d4‚Äù&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;instance_type = ‚Äút3.micro‚Äù&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;resource ‚Äúaws_eip‚Äù ‚Äúweb_server_public_ip‚Äù {&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;instance      = ‚Äú${aws_instance.web_server.id}‚Äù&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Having these two resources together allows us to think of it as a stand-alone unit you can reuse later, for example in our development, staging, and production environments. And not by copying and pasting it, but via reference to the module defined only once.&lt;/p&gt;

&lt;p&gt;Please note: we specified an instance argument inside the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;aws_eip&lt;/code&gt; resource as a reference to another resource details (the ID of an instance). This is possible because of a way how Terraform treats dependencies: when it detects the dependency (or you define it explicitly) it will create the main resource first, and only after it‚Äôs created and available it will create the dependent one.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Input variables&lt;/strong&gt; work as parameters for the modules so module code could be reusable. Let‚Äôs look at the previous example: it has some hardcoded values ‚Äî instance image ID and instance type. Here is how you can make it more abstract and reusable:&lt;/p&gt;

&lt;div class=&quot;language-yaml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;s&quot;&gt;variable ‚Äúimage_id‚Äù {&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;type          = string&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;variable ‚Äúinstance_type‚Äù {&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;type          = string&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;resource ‚Äúaws_instance‚Äù ‚Äúweb_server‚Äù {&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;ami           = var.image_id&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;instance_type = var.instance_type&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Values for the variables then can be passed either via CLI and environment variables (if you have only the one, so-called root module) or via explicit values in the block where you call a module, for example:&lt;/p&gt;

&lt;div class=&quot;language-yaml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;s&quot;&gt;module ‚Äúweb_server_production‚Äù {&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;source.       = ‚Äú./modules/web_server‚Äù&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;image_id      = ‚Äúami-a1b2c3d4‚Äù&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;instance_type = ‚Äúm5.large‚Äù&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;module ‚Äúweb_server_development‚Äù {&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;source        = ‚Äú./modules/web_server‚Äù&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;image_id      = ‚Äúami-a2b3c4d5‚Äù&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;instance_type = ‚Äút3.micro‚Äù&lt;/span&gt;
 &lt;span class=&quot;s&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Output values&lt;/strong&gt; are similar to the ‚Äúreturn‚Äù of a function in development language. They can be used for dependencies management (for example, when a module require something from another module) and for the printing of the certain values at the end of Terraform work (for example to be used for notification in CI/CD process).&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Local values&lt;/strong&gt;, &lt;strong&gt;expressions&lt;/strong&gt;, &lt;strong&gt;functions&lt;/strong&gt; ‚Äî three more things that augment the capabilities of Terraform and make it more similar to a programming language (which is great by the way).&lt;/p&gt;

&lt;p&gt;The local values are used inside modules for extended data manipulations in it.&lt;/p&gt;

&lt;p&gt;The expressions are used to set the values (for many things), for example, to set the value of some argument in resource configuration. They used either to refer something (just as we referenced instance ID &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;‚Äú${aws_instance.web_server.id}‚Äù&lt;/code&gt; in the example above) or to compute the value within your configuration.&lt;/p&gt;

&lt;p&gt;The functions in Terraform are built-int jobs you can call to transform and combine values. For example, the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tolist()&lt;/code&gt; function converts its argument to a list value.&lt;/p&gt;

&lt;h3 id=&quot;and-this-is-it&quot;&gt;And this is it?&lt;/h3&gt;

&lt;p&gt;Yes, in a very very short words ‚Äî this is what Terraform is. Not a rocket science if it‚Äôs about to manage a small infastructure, but gets more complicated with bigger infrastctucture. As any other engineerign tool or development language, actually.&lt;/p&gt;

&lt;h3 id=&quot;okay-what-next&quot;&gt;Okay, what next?&lt;/h3&gt;

&lt;p&gt;If you read down to this point (anybody?) then it means it worth ‚Äúget your hands dirty‚Äù and to try building your Infrastructure with Terraform. There are plenty of courses and books (and the ‚ÄúTerraform up and running‚Äù is one of the most popular), but my learning path started from the following: &lt;a href=&quot;https://learn.hashicorp.com/terraform&quot;&gt;Official guide from Hashicorp&lt;/a&gt; ‚Äî great and free guide from Terraform developers. Just pick your favorite cloud (AWS, Azure, GCP) and go through the topics.&lt;/p&gt;

&lt;p&gt;Once you finish this guide, I suggest jumping into the more real-world things and describe the infrastructure of the most common project you work with. For example, here is what I do: &lt;a href=&quot;https://github.com/vasylenko/tf-ecs&quot;&gt;small github project&lt;/a&gt; ‚Äì I am trying to describe the Infrastructure for SPA website with services in docker containers at the backend. The variety and complexity of the code are limited only by your fantasy.&lt;/p&gt;

&lt;p&gt;Another thing worth your attention is &lt;a href=&quot;https://blog.gruntwork.io/a-comprehensive-guide-to-terraform-b3d32832baca&quot;&gt;A Comprehensive Guide to Terraform&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;And I also encourage you to go through the &lt;a href=&quot;https://gruntwork.io/static/devops-resources/&quot;&gt;collection of blog posts and talks&lt;/a&gt; they share.&lt;/p&gt;
</description>
        <pubDate>Sat, 02 May 2020 00:00:00 +0000</pubDate>
      </item>
    
      <item>
        <title>ü§î DevOps team in outsource. A team?</title>
        <link>/2020/03/20/devops-team-in-outsource-a-team.html</link>
        <guid isPermaLink="true">/2020/03/20/devops-team-in-outsource-a-team.html</guid>
        <description>&lt;p&gt;I am a team lead in an outsourcing company. That means I believe &lt;em&gt;(or convince myself)&lt;/em&gt; that I lead the team &lt;em&gt;(wait, wait, there will be even more obvious discoveries)&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;I am sure that &lt;strong&gt;a team&lt;/strong&gt; can achieve more than a single person or a group. And the story I want to tell is about making the team from a group of people with personal and non-connected tasks. I assume this is going to be a series of posts, and hopefully, I will add a table of contents here.&lt;/p&gt;

&lt;h3 id=&quot;a-group-or-a-team&quot;&gt;A group or a team?&lt;/h3&gt;
&lt;p&gt;It is quite rare to find a project that involves more than 10-15 people in a small or mid-size outsourcing company. With such project size, a single DevOps engineer is enough to handle the whole job. Or an engineer may work on several projects at the same time if projects are relatively small. This is because the scope of work to be done fits into the schedule of a single person. So it is either one-to-one or one-to-many connection in most cases: either the employee works with one project or the employee works with several projects simultaneously.&lt;/p&gt;

&lt;p&gt;Outsourcing a ‚ÄúDevOps‚Äù within this context usually means assigning an individual for the work with a client or/and a client‚Äôs team.&lt;/p&gt;

&lt;p&gt;Now imagine: you have several people in a room, all of them are DevOps engineers working in the same outsource company and all they work with their ‚Äúown‚Äù projects separately.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;So would you call that group of people ‚Äúa team‚Äù?&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Wikipedia states that ‚Äúa team‚Äù is a group of individuals (human or non-human) working together to achieve &lt;strong&gt;their [common] goal&lt;/strong&gt;. 
As well as common sense tells us that ‚Äúa team‚Äù is something that groups people to make them work for a &lt;strong&gt;mutual outcome&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;And here comes an obvious but a difficult question: what common goal(s) a group of people can have whereas each member of that group has its own goal, which is not related to others‚Äô? A bit contradictory, isn‚Äôt it?&lt;/p&gt;

&lt;h3 id=&quot;a-goal&quot;&gt;A Goal&lt;/h3&gt;

&lt;p&gt;Conventional thinking tells us that a goal for the for-profit company is to make money. This is true, and I don‚Äôt want to argue with it. Therefore, does it mean that a goal for a team of engineers inside the company is the same as for the company as a whole?&lt;/p&gt;

&lt;p&gt;Yes‚Ä¶ Yet, not only, or almost.&lt;/p&gt;

&lt;p&gt;Yes, because it‚Äôs the main reason why we work for an outsourcing company. We do the job for clients, clients pay the company, the company pays us.&lt;/p&gt;

&lt;p&gt;However, there is a long chain of events and processes that leads from the start of a contract to the paid invoice. A team of engineers is the inalienable part of that chain, with a focus on its work - deliver technical solutions following the client‚Äôs expectations and requirements.&lt;/p&gt;

&lt;p&gt;This conclusion reveals the goal for the DevOps team in the outsourcing company: grow the quality of work by a process of ongoing improvement and refinement of technical and soft skills. So simple, so obvious.&lt;/p&gt;

&lt;p&gt;And this goal means nothing by itself. But to sustain it and adapt, to make it desirable for the team, and to make it a team‚Äôs foundation eventually, we need the following:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Values&lt;/li&gt;
  &lt;li&gt;Principles&lt;/li&gt;
  &lt;li&gt;Common interests&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;One of the crucial responsibilities of a team lead is to foster these three pillars of a team.&lt;/p&gt;

&lt;p&gt;The &lt;strong&gt;VALUES&lt;/strong&gt;  is something that lets us feel comfortable with the people surrounding us in the office. The list of values is not carved in stone, it can (and eventually should) change as the team evolves. But here is the most constant items for my team:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;openness in communication&lt;/li&gt;
  &lt;li&gt;respect to each other‚Äôs opinion&lt;/li&gt;
  &lt;li&gt;empathy&lt;/li&gt;
  &lt;li&gt;feeling free to provide critic and being ready to receive it&lt;/li&gt;
  &lt;li&gt;count on help from a teammate and be ready to help&lt;/li&gt;
  &lt;li&gt;ability to work remotely and have flexible working hours&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The &lt;strong&gt;PRINCIPLES&lt;/strong&gt; is a set of beliefs and policies that keeps us on the required level of productivity and disciplines us, and stimulates the longing to improve. Again, this list can be and should be adjusted as the time goes and the team evolves, but here is the most up to date for us:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;we learn constantly&lt;/li&gt;
  &lt;li&gt;we are the first who appraises the quality of our work&lt;/li&gt;
  &lt;li&gt;we are proactive&lt;/li&gt;
  &lt;li&gt;we are open: if we do not agree with something or something is worrying us, we should be brave enough to say it&lt;/li&gt;
  &lt;li&gt;we may defend own point of view, but be ready to accept that it is incorrect&lt;/li&gt;
  &lt;li&gt;we can make mistakes, but we must learn from it and do not repeat them&lt;/li&gt;
  &lt;li&gt;we must help our teammates&lt;/li&gt;
  &lt;li&gt;we keep our promises&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The &lt;strong&gt;COMMON INTERESTS&lt;/strong&gt; is more about informal things we share within a team. This includes (but not limited to) team building events, discussions and arguments about new technologies, so-called water-cooler chats, and so on. Being less formal, this pillar acts as a glue for the team. This is because we are all humans, first of all, and we generally work for 1/3 of our day (not including weekends), so we need to stay humans at work as well. I mean it is impossible to switch off the ‚Äòhuman‚Äô for that 1/3 of the day, leaving only the engineer for this time. Hence, this must be admitted and we must cope with it by putting several informal things into formal work.&lt;/p&gt;

&lt;p&gt;These pillars create a team culture where learning, creativity, and an open mindset are encouraged.&lt;/p&gt;

&lt;h3 id=&quot;the-team&quot;&gt;The Team&lt;/h3&gt;
&lt;p&gt;This is how a group of people with separate goals may become a team. While we do not have a goal (‚Äúone for all‚Äù) that is measurable or has a fixed point of completion, we still have a common aim whose realization is based on pillars of teamwork. And with a set of sub-goals, this may be a specific, achievable (until you find something else to improve, which should happen quite often) and even realistic. So it‚Äôs kinda 60% S.M.A.R.T. goal :smile:&lt;/p&gt;

&lt;p&gt;Unfortunately or fortunately (if you like your team lead job) there is a lot of work that needs to be done and a lot of questions need to be answered to implement the described approach:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;How to translate own values to the team and create the new ones together?&lt;/li&gt;
  &lt;li&gt;How to make people communicate in such a team and share their knowledge?&lt;/li&gt;
  &lt;li&gt;How to define who does what?&lt;/li&gt;
  &lt;li&gt;How to teach team members to learn?&lt;/li&gt;
  &lt;li&gt;How to keep team members loyal to the team and company?&lt;/li&gt;
  &lt;li&gt;How to mitigate conflicts and how to use them?&lt;/li&gt;
  &lt;li&gt;How to keep team members motivated when the work becomes boring and the level of engagement goes down?&lt;/li&gt;
  &lt;li&gt;and much much more&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;I wish I could answer all these questions at once, and I wish there were only correct answers.
But my experience tells me that it is possible to answer them one by one. And I hope to share that here someday!&lt;/p&gt;
</description>
        <pubDate>Fri, 20 Mar 2020 00:00:00 +0000</pubDate>
      </item>
    
      <item>
        <title>üò≤ Github Actions - First impression</title>
        <link>/2020/03/17/github-actions-first-impression.html</link>
        <guid isPermaLink="true">/2020/03/17/github-actions-first-impression.html</guid>
        <description>&lt;p&gt;Although Github Actions service is generally available since November 13, 2020, and there are about 243,000,000 results for ‚Äúgithub actions‚Äù in Google search already, I have just reached it‚Ä¶&lt;/p&gt;

&lt;p&gt;It‚Äôs half past midnight, it took me about 35 commits to make my first github automation work, but it finally works and this blog post was built and published automatically!&lt;/p&gt;

&lt;h3 id=&quot;actions-everywhere&quot;&gt;Actions everywhere&lt;/h3&gt;
&lt;p&gt;One of the most (or maybe the most one) powerful things in Actions is ‚Ä¶ Actions! Github made a simple but genius thing: they turned well-known snippets (we do with pipelines) into the marketplace of well-made (sometimes not) simple and complex applications you can use in your automation workflow. &lt;a href=&quot;https://github.com/marketplace?type=actions&quot;&gt;https://github.com/marketplace?type=actions&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;So now you can either re-invent your wheel or re-use someone else‚Äôs code to make the needed automation.&lt;/p&gt;

&lt;p&gt;I decided to automate publications to this blog via Actions in order to have some practice.&lt;/p&gt;

&lt;p&gt;There are two workflows: one for the blog (website), and one for the CV (cv).&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/actions/checkout&quot;&gt;actions/checkout@v2&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/actions/upload-artifact&quot;&gt;actions/upload-artifact@v2&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/actions/download-artifact&quot;&gt;actions/download-artifact@v2&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;In both workflows, the build job is performed within a container, which is different per workflow: Ruby for the blog and Pandoc for CV.&lt;/p&gt;

&lt;p&gt;Here is how the build job looks like for the blog:&lt;/p&gt;

&lt;div class=&quot;language-yaml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;na&quot;&gt;jobs&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;runs-on&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;ubuntu-latest&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;container&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;ruby:2.6.4&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; 
        &lt;span class=&quot;s&quot;&gt;--workdir /src&lt;/span&gt; 
    &lt;span class=&quot;na&quot;&gt;steps&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;Checkout&lt;/span&gt;
        &lt;span class=&quot;na&quot;&gt;uses&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;actions/checkout@v2&lt;/span&gt; 

      &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;Build blog&lt;/span&gt;
        &lt;span class=&quot;na&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pi&quot;&gt;|&lt;/span&gt;
          &lt;span class=&quot;s&quot;&gt;bundle install&lt;/span&gt;
          &lt;span class=&quot;s&quot;&gt;bundle exec jekyll build --verbose --destination _site&lt;/span&gt;

      &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;Upload artifacts&lt;/span&gt;
        &lt;span class=&quot;na&quot;&gt;uses&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;actions/upload-artifact@v2&lt;/span&gt;
        &lt;span class=&quot;na&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; 
          &lt;span class=&quot;na&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;_site&lt;/span&gt;
          &lt;span class=&quot;na&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;_site&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;As you can see, I run the steps within the Ruby container. This simplifies things related to file permissions and directory mounting because checkout is made inside the container.&lt;/p&gt;

&lt;p&gt;The deploy step is performed via shell run command for now, for better clearness (can be replaced to third-party action or custom-made one): it makes a commit to gh-pages branch which is configured for Github Pages.&lt;/p&gt;

&lt;div class=&quot;language-yaml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;na&quot;&gt;deploy&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;github.ref == 'refs/heads/master'&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;needs&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;build&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;runs-on&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;ubuntu-latest&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;steps&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;Checkout gh-pages branch&lt;/span&gt;
        &lt;span class=&quot;na&quot;&gt;uses&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;actions/checkout@v2&lt;/span&gt;
        &lt;span class=&quot;na&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;na&quot;&gt;ref&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;gh-pages'&lt;/span&gt;

      &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;Get the build artifact&lt;/span&gt;
        &lt;span class=&quot;na&quot;&gt;uses&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;actions/download-artifact@v2&lt;/span&gt;
        &lt;span class=&quot;na&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;na&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;_site&lt;/span&gt;
          &lt;span class=&quot;na&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;./&lt;/span&gt;

      &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;Deploy (push) to gh-pages&lt;/span&gt;
        &lt;span class=&quot;na&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pi&quot;&gt;|&lt;/span&gt;
          &lt;span class=&quot;s&quot;&gt;git config user.name &quot;$GITHUB_ACTOR&quot;&lt;/span&gt;
          &lt;span class=&quot;s&quot;&gt;git config user.email &quot;${GITHUB_ACTOR}@bots.github.com&quot;&lt;/span&gt;
          &lt;span class=&quot;s&quot;&gt;git add -A &lt;/span&gt;
          &lt;span class=&quot;s&quot;&gt;git commit -a -m &quot;Updated Website&quot;&lt;/span&gt;
          &lt;span class=&quot;s&quot;&gt;git remote set-url origin &quot;https://x-access-token:$@github.com/vasylenko/serhii.vasylenko.info.git&quot;&lt;/span&gt;
          &lt;span class=&quot;s&quot;&gt;git push --force-with-lease origin gh-pages&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;old-good-things-made-better&quot;&gt;Old good things made better&lt;/h3&gt;
&lt;p&gt;A lot of common things have been introduced to GitHubActions with some sweet additions:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;you can also specify different environments for your jobs in the same workflow;&lt;/li&gt;
  &lt;li&gt;you can use environment variables with a different visibility scope: either workflow, or job, or step;&lt;/li&gt;
  &lt;li&gt;you can use cache for dependencies and reuse it between workflow runs while keeping workflow directory clean;&lt;/li&gt;
  &lt;li&gt;you can trigger a workflow by repo events and have a quite complex conditional logic or filters (if needed), external webhooks and by a schedule;&lt;/li&gt;
  &lt;li&gt;you can pass artifacts between jobs inside a workflow with ease - Github provides simple actions for this, so you don‚Äôt need to dance around temporary directories or files;&lt;/li&gt;
  &lt;li&gt;and much more&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Tue, 17 Mar 2020 22:30:20 +0000</pubDate>
      </item>
    
      <item>
        <title>ü•≥ AWS SAA exam results</title>
        <link>/2020/03/15/aws-solutions-architect-associate-exam-tips.html</link>
        <guid isPermaLink="true">/2020/03/15/aws-solutions-architect-associate-exam-tips.html</guid>
        <description>&lt;h3 id=&quot;926-out-of-1000&quot;&gt;926 out of 1000&lt;/h3&gt;
&lt;p&gt;Last week I‚Äôve successfully passed AWS SAA exam with 926 points from 1000 possible. I can‚Äôt help saying this and showing off my &lt;a href=&quot;https://www.youracclaim.com/badges/7c6c7a70-63f5-4854-97ab-e5c1ad251231&quot; target=&quot;_blank&quot;&gt;verification page&lt;/a&gt;, just because I am very happy so please excuse me my bragging.&lt;/p&gt;

&lt;h3 id=&quot;what-helped-me&quot;&gt;What helped me&lt;/h3&gt;
&lt;p&gt;But I would like to share some advices and tips with anyone who reads this and wants to pass the exam. I mean, I could just twit about it if that was only about saying ‚Äúhey look at me!‚Äù, right?&lt;/p&gt;

&lt;p&gt;It took me a month of intensive studying and here is what helped me:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;Video course&lt;/strong&gt; at CloudGuru - &lt;a href=&quot;https://acloud.guru/learn/aws-certified-solutions-architect-associate&quot; target=&quot;_blank&quot;&gt;AWS Certified Solutions Architect Associate&lt;/a&gt;.&lt;/p&gt;

    &lt;p&gt;Price: $50 for a monthly subscription.&lt;/p&gt;

    &lt;p&gt;Tips: They have a 7 days free trial, which is actually quite enough to view the whole course. But I strongly recommend purchasing a full month, because it is better to view the lectures gradually during couple of weeks for better learning. Plus they have a nice exam simulator where you can practice several times.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;Practice Tests&lt;/strong&gt; set at Udemy - &lt;a href=&quot;https://www.udemy.com/course/aws-certified-solutions-architect-associate-amazon-practice-exams-saa-c02/&quot; target=&quot;_blank&quot;&gt;AWS Certified Solutions Architect Associate Practice Exams&lt;/a&gt;.&lt;/p&gt;

    &lt;p&gt;Price: $40 or only $12 if you‚Äôre lucky to get it during a sale. But they make sales quite often and they frequently provide  discuounts for new students. I purchaced it for $12.&lt;/p&gt;

    &lt;p&gt;Tips: practice tests are very useful, do not skip buying them. You will find your weak spots and also learn a lot by passing these tests. This particular set has a quite good explanations for each question.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;Exam Guide&lt;/strong&gt; at O‚Äôrelly Media &lt;a href=&quot;https://learning.oreilly.com/library/view/aws-certified-solutions/9781260108262/&quot; target=&quot;_blank&quot;&gt;AWS Certified Solutions Architect Associate All-in-One Exam Guide&lt;/a&gt;.&lt;/p&gt;

    &lt;p&gt;Price: this one can be easily read during 10 days free trial period :wink:&lt;/p&gt;

    &lt;p&gt;Tips: The new exam version is released on 23rd of March, so it is better to find a new updated version of exam guide. And I suggest reading the guide after the video course or vise versa, but do not mix them.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;Making notes&lt;/strong&gt;. Seriously, note taking helps you memorize better. Do not skip it, and note your video courses as well as exam guide. Later, you will find your notes very helpful before the exam day - they will fresh up your memory.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Thank you for reading down to this point. I hope my advices were helpful and you will pass the exam!&lt;/p&gt;
</description>
        <pubDate>Sun, 15 Mar 2020 18:16:20 +0000</pubDate>
      </item>
    
  </channel>
</rss>
